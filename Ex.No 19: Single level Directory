#include <stdio.h>
#include <string.h>

struct {
    char dname[20];
    char fname[20][20];
    int fcount;
} dir;

int main() {
    int ch;
    char name[20];

    printf("Enter directory name: ");
    scanf("%s", dir.dname);
    dir.fcount = 0;

    while(1) {
        printf("\n1. Create File\n2. Delete File\n3. Search File\n4. Display Files\n5. Exit\nEnter choice: ");
        scanf("%d", &ch);

        if(ch == 1) {
            printf("Enter file name: ");
            scanf("%s", dir.fname[dir.fcount]);
            dir.fcount++;
            printf("File created\n");
        }

        else if(ch == 2) {
            printf("Enter file name to delete: ");
            scanf("%s", name);

            int found = 0;
            for(int i = 0; i < dir.fcount; i++) {
                if(strcmp(dir.fname[i], name) == 0) {
                    strcpy(dir.fname[i], dir.fname[dir.fcount - 1]);
                    dir.fcount--;
                    found = 1;
                    printf("File deleted\n");
                    break;
                }
            }
            if(!found) printf("File not found\n");
        }

        else if(ch == 3) {
            printf("Enter file name to search: ");
            scanf("%s", name);

            int found = 0;
            for(int i = 0; i < dir.fcount; i++) {
                if(strcmp(dir.fname[i], name) == 0) {
                    found = 1;
                    printf("File found\n");
                    break;
                }
            }
            if(!found) printf("File not found\n");
        }

        else if(ch == 4) {
            printf("\nDirectory: %s\n", dir.dname);
            printf("Files:\n");
            for(int i = 0; i < dir.fcount; i++)
                printf("%s\n", dir.fname[i]);
        }

        else if(ch == 5) break;
    }

    return 0;
}
